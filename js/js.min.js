class Carrusel{constructor(e,t){let o=this;e=e||null,t=t||{},this.contenedor=e,this.s=t,this.elementos=null,this.elementosTotales=0,this.elementoActual=null,o.s.hasOwnProperty("controles")||(o.s.controles=!0),o.s.hasOwnProperty("velocidad")||(o.s.velocidad=400),this.contenedorControles=null,this.controlSiguiente=null,this.controlAnterior=null,this.bloqueoAvance=!1}init(){let e=this;if(null!==this.contenedor){if(this.elementos=this.contenedor.children().not(".controles"),this.elementosTotales=this.elementos.length,this.elementos.filter(e=>{const t=$(this.elementos[e]).hasClass("activo");return t&&(this.elementoActual=e),t}).length>1){let t=0;this.elementos.each(function(o){$(e.elementos[o]).hasClass("activo")&&++t>1&&$(e.elementos[o]).removeClass("activo")})}this.elementos.each(t=>{$(e.elementos[t]).css("height",$(e.elementos[t]).height()),$(e.elementos[t]).hasClass("activo")||$(e.elementos[t]).hide().css("opacity",1)})}e.s.controles&&e.crearControles()}static calcularIncremento(e,t){return t-e}cambiarElementoActivo(e){let t=this;$(this.elementos[t.elementoActual]).slideUp(this.s.velocidad,function(){t.elementoActual+=e,$(t).removeClass("activo").css("display",""),$(t.elementos[t.elementoActual]).slideDown(t.s.velocidad,function(){$(this).css("display","").addClass("activo")}),t.actualizarControles(),t.bloqueoAvance=!1})}siguiente(){let e=this;e.elementosTotales>0&&e.elementoActual+1<e.elementosTotales&&!e.bloqueoAvance&&(e.bloqueoAvance=!0,e.cambiarElementoActivo(1))}anterior(){let e=this;e.elementoActual-1>=0&&e.elementosTotales>0&&!e.bloqueoAvance&&(e.bloqueoAvance=!0,e.cambiarElementoActivo(-1))}crearControles(){let e=this;if(null==this.contenedorControles){e.contenedorControles=$("<div class='controles'></div>"),e.contenedor.append(this.contenedorControles),e.controlSiguiente=$("<i class='der'> &rarr; </i>"),e.controlAnterior=$("<i class='izq'> &larr; </i>");let t=$("<div></div>");e.contenedorControles.append(t),t.append(e.controlAnterior);for(let o=0;o<e.elementosTotales;o++){let l=$("<i class='punto'>"+(o+1)+"</i>");t.append(l),l.on("click",()=>{e.cambiarElementoActivo(Carrusel.calcularIncremento(e.elementoActual,o))}),e.elementoActual===o&&l.addClass("activo")}t.append(e.controlSiguiente),this.controlSiguiente.on("click",t=>{e.siguiente()}),this.controlAnterior.on("click",t=>{e.anterior()})}}actualizarControles(){let e=this;if(null!==this.contenedorControles){let t=e.contenedorControles.find(".punto");e.contenedorControles.find(".activo").removeClass("activo"),$(t[e.elementoActual]).addClass("activo")}}}